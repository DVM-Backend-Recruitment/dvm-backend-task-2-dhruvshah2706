{% extends "users/base.html" %}

{% load socialaccount %}  <!-- Load socialaccount tags for provider_login_url -->

{% block content %}
  <h2>Login</h2>
  {% if form.errors %}
    <p class="error">Login failed. Please check your credentials.</p>
  {% endif %}

  <form method="post" action="{% url 'account_login' %}">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Log in</button>
  </form>

  <p>Don't have an account? <a href="{% url 'account_signup' %}">Sign up here</a>.</p>

  <hr>
  <h3>Or</h3>
  
  <!-- Google Login Button -->
  

  {% if user.is_authenticated %}
    <p>You are already logged in as {{ user.username }}.</p>
    <a href="{% url 'account_logout' %}">Log out</a>
  {% endif %}
{% endblock %}
